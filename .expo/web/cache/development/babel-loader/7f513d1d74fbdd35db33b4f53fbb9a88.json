{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport * as React from 'react';\nimport * as RN from \"react-native-web/dist/index\";\nimport { useNavigation } from '@react-navigation/native';\nimport { database } from \"../config/fb\";\nimport { collection, onSnapshot, orderBy, query } from 'firebase/firestore';\nimport Product from \"../components/Product\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Home() {\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      products = _React$useState2[0],\n      setProducts = _React$useState2[1];\n\n  var navigation = useNavigation();\n  React.useLayoutEffect(function () {\n    navigation.setOptions({\n      headerRight: function headerRight() {\n        return _jsx(RN.Button, {\n          title: \"Agregar\",\n          onPress: function onPress() {\n            return navigation.navigate('Add');\n          }\n        });\n      }\n    });\n  }, [navigation]);\n  React.useEffect(function () {\n    var collectionRef = collection(database, 'products');\n    var q = query(collectionRef, orderBy('createdAt', 'desc'));\n    var unsubscribe = onSnapshot(q, function (querySnapshot) {\n      console.log('querySnapshot unsusbscribe');\n      setProducts(querySnapshot.docs.map(function (doc) {\n        return {\n          id: doc.id,\n          name: doc.data().name,\n          ubicacion: doc.data().ubicacion,\n          descripcion: doc.data().descripcion,\n          price: doc.data().price,\n          isSold: doc.data().isSold,\n          createdAt: doc.data().createdAt\n        };\n      }));\n    });\n    return unsubscribe;\n  }, []);\n  return _jsxs(_Fragment, {\n    children: [_jsx(RN.Text, {\n      style: styles.title,\n      children: \"Muro de Solicitudes\"\n    }), products.map(function (product) {\n      return _jsx(Product, _objectSpread({}, product), product.id);\n    })]\n  });\n}\nvar styles = RN.StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#F5F3F9'\n  },\n  title: {\n    fontSize: 32,\n    fontWeight: 'bold',\n    margin: 16\n  }\n});","map":{"version":3,"names":["React","RN","useNavigation","database","collection","onSnapshot","orderBy","query","Product","Home","useState","products","setProducts","navigation","useLayoutEffect","setOptions","headerRight","navigate","useEffect","collectionRef","q","unsubscribe","querySnapshot","console","log","docs","map","doc","id","name","data","ubicacion","descripcion","price","isSold","createdAt","styles","title","product","StyleSheet","create","container","flex","backgroundColor","fontSize","fontWeight","margin"],"sources":["E:/tercerav2/tercera/src/screens/Home.js"],"sourcesContent":["import * as React from 'react';\r\nimport * as RN from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { database } from '../config/fb';\r\nimport { collection, onSnapshot, orderBy, query } from 'firebase/firestore';\r\nimport Product from '../components/Product';\r\n\r\nexport default function Home() {\r\n    const [products, setProducts] = React.useState([]);\r\n    const navigation = useNavigation();\r\n\r\n    React.useLayoutEffect(() => {\r\n        navigation.setOptions({\r\n            headerRight: () => <RN.Button title='Agregar' onPress={() => navigation.navigate('Add')} />\r\n        })\r\n    },[navigation])\r\n\r\n    React.useEffect(() => {\r\n        const collectionRef = collection(database, 'products');\r\n        const q = query(collectionRef, orderBy('createdAt', 'desc'));\r\n\r\n        const unsubscribe = onSnapshot(q, querySnapshot => {\r\n            console.log('querySnapshot unsusbscribe');\r\n              setProducts(\r\n                querySnapshot.docs.map(doc => ({\r\n                    id: doc.id,\r\n                    name: doc.data().name,\r\n                    ubicacion: doc.data().ubicacion,\r\n                    descripcion: doc.data().descripcion,\r\n                    price: doc.data().price,\r\n                    isSold: doc.data().isSold,\r\n                    createdAt: doc.data().createdAt,\r\n                }))\r\n              );\r\n            });\r\n        return unsubscribe;\r\n\r\n    },[])\r\n    return (\r\n        <>\r\n        <RN.Text style={styles.title}>Muro de Solicitudes</RN.Text>\r\n        {products.map(product => <Product key={product.id} {...product} />)}\r\n        </>\r\n    )\r\n}\r\n\r\nconst styles = RN.StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: '#F5F3F9',\r\n    },\r\n    title: {\r\n        fontSize: 32,\r\n        fontWeight: 'bold',\r\n        margin: 16,\r\n    },\r\n});"],"mappings":";;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;OACO,KAAKC,E;AACZ,SAASC,aAAT,QAA8B,0BAA9B;AACA,SAASC,QAAT;AACA,SAASC,UAAT,EAAqBC,UAArB,EAAiCC,OAAjC,EAA0CC,KAA1C,QAAuD,oBAAvD;AACA,OAAOC,OAAP;;;;AAEA,eAAe,SAASC,IAAT,GAAgB;EAC3B,sBAAgCT,KAAK,CAACU,QAAN,CAAe,EAAf,CAAhC;EAAA;EAAA,IAAOC,QAAP;EAAA,IAAiBC,WAAjB;;EACA,IAAMC,UAAU,GAAGX,aAAa,EAAhC;EAEAF,KAAK,CAACc,eAAN,CAAsB,YAAM;IACxBD,UAAU,CAACE,UAAX,CAAsB;MAClBC,WAAW,EAAE;QAAA,OAAM,KAAC,EAAD,CAAI,MAAJ;UAAW,KAAK,EAAC,SAAjB;UAA2B,OAAO,EAAE;YAAA,OAAMH,UAAU,CAACI,QAAX,CAAoB,KAApB,CAAN;UAAA;QAApC,EAAN;MAAA;IADK,CAAtB;EAGH,CAJD,EAIE,CAACJ,UAAD,CAJF;EAMAb,KAAK,CAACkB,SAAN,CAAgB,YAAM;IAClB,IAAMC,aAAa,GAAGf,UAAU,CAACD,QAAD,EAAW,UAAX,CAAhC;IACA,IAAMiB,CAAC,GAAGb,KAAK,CAACY,aAAD,EAAgBb,OAAO,CAAC,WAAD,EAAc,MAAd,CAAvB,CAAf;IAEA,IAAMe,WAAW,GAAGhB,UAAU,CAACe,CAAD,EAAI,UAAAE,aAAa,EAAI;MAC/CC,OAAO,CAACC,GAAR,CAAY,4BAAZ;MACEZ,WAAW,CACTU,aAAa,CAACG,IAAd,CAAmBC,GAAnB,CAAuB,UAAAC,GAAG;QAAA,OAAK;UAC3BC,EAAE,EAAED,GAAG,CAACC,EADmB;UAE3BC,IAAI,EAAEF,GAAG,CAACG,IAAJ,GAAWD,IAFU;UAG3BE,SAAS,EAAEJ,GAAG,CAACG,IAAJ,GAAWC,SAHK;UAI3BC,WAAW,EAAEL,GAAG,CAACG,IAAJ,GAAWE,WAJG;UAK3BC,KAAK,EAAEN,GAAG,CAACG,IAAJ,GAAWG,KALS;UAM3BC,MAAM,EAAEP,GAAG,CAACG,IAAJ,GAAWI,MANQ;UAO3BC,SAAS,EAAER,GAAG,CAACG,IAAJ,GAAWK;QAPK,CAAL;MAAA,CAA1B,CADS,CAAX;IAWD,CAbyB,CAA9B;IAcA,OAAOd,WAAP;EAEH,CApBD,EAoBE,EApBF;EAqBA,OACI;IAAA,WACA,KAAC,EAAD,CAAI,IAAJ;MAAS,KAAK,EAAEe,MAAM,CAACC,KAAvB;MAAA;IAAA,EADA,EAEC1B,QAAQ,CAACe,GAAT,CAAa,UAAAY,OAAO;MAAA,OAAI,KAAC,OAAD,oBAA8BA,OAA9B,GAAcA,OAAO,CAACV,EAAtB,CAAJ;IAAA,CAApB,CAFD;EAAA,EADJ;AAMH;AAED,IAAMQ,MAAM,GAAGnC,EAAE,CAACsC,UAAH,CAAcC,MAAd,CAAqB;EAChCC,SAAS,EAAE;IACPC,IAAI,EAAE,CADC;IAEPC,eAAe,EAAE;EAFV,CADqB;EAKhCN,KAAK,EAAE;IACHO,QAAQ,EAAE,EADP;IAEHC,UAAU,EAAE,MAFT;IAGHC,MAAM,EAAE;EAHL;AALyB,CAArB,CAAf"},"metadata":{},"sourceType":"module"}