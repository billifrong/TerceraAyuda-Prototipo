{"version":3,"sources":["Categories.tsx"],"names":["React","Animated","FlatList","StyleSheet","View","defaultKeyboardContext","KeyboardContext","CATEGORIES_NAVIGATION","CategoryItem","exhaustiveTypeCheck","CATEGORY_ELEMENT_WIDTH","Categories","activeCategoryIndex","categoryContainerColor","onCategoryChangeFailed","activeCategoryContainerColor","categoryPosition","renderList","setActiveCategoryIndex","categoryContainerStyles","useContext","scrollNav","useRef","Value","current","handleScrollToCategory","useCallback","category","findIndex","cat","title","renderItem","item","index","useEffect","spring","toValue","useNativeDriver","start","activeIndicator","styles","backgroundColor","transform","translateX","getStylesBasedOnPosition","style","navigation","push","navigationFloating","navigationTop","navigationBottom","renderData","useMemo","map","icon","find","floating","separator","activeIndicatorContainer","create","position","bottom","left","right","alignItems","padding","borderColor","borderRadius","paddingVertical","borderBottomLeftRadius","borderBottomRightRadius","borderTopWidth","paddingTop","paddingBottom","borderTopLeftRadius","borderTopRightRadius","borderBottomWidth","width","height","marginHorizontal"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,EAAmBC,QAAnB,EAA6BC,UAA7B,EAAyCC,IAAzC,QAAgE,cAAhE;AACA,SAASC,sBAAT,QAAuC,8BAAvC;AACA,SAASC,eAAT,QAAgC,6BAAhC;AACA,SAASC,qBAAT,QAA6E,UAA7E;AACA,SAASC,YAAT,QAA6B,gBAA7B;AACA,SAASC,mBAAT,QAAoC,UAApC;AAEA,MAAMC,sBAAsB,GAAG,EAA/B;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAM;AAC9B,QAAM;AACJC,IAAAA,mBADI;AAEJC,IAAAA,sBAFI;AAGJC,IAAAA,sBAHI;AAIJC,IAAAA,4BAJI;AAKJC,IAAAA,gBALI;AAMJC,IAAAA,UANI;AAOJC,IAAAA,sBAPI;AAQJC,IAAAA;AARI,MASFnB,KAAK,CAACoB,UAAN,CAAiBd,eAAjB,CATJ;AAUA,QAAMe,SAAS,GAAGrB,KAAK,CAACsB,MAAN,CAAa,IAAIrB,QAAQ,CAACsB,KAAb,CAAmB,CAAnB,CAAb,EAAoCC,OAAtD;AACA,QAAMC,sBAAsB,GAAGzB,KAAK,CAAC0B,WAAN,CAC5BC,QAAD,IAA6B;AAC3BT,IAAAA,sBAAsB,CAACD,UAAU,CAACW,SAAX,CAAsBC,GAAD,IAASA,GAAG,CAACC,KAAJ,KAAcH,QAA5C,CAAD,CAAtB;AACD,GAH4B,EAI7B,CAACV,UAAD,EAAaC,sBAAb,CAJ6B,CAA/B;AAOA,QAAMa,UAAU,GAAG/B,KAAK,CAAC0B,WAAN,CACjB,CAAC;AAAEM,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAAD,kBACE,oBAAC,YAAD;AAAc,IAAA,IAAI,EAAED,IAApB;AAA0B,IAAA,KAAK,EAAEC,KAAjC;AAAwC,IAAA,sBAAsB,EAAER;AAAhE,IAFe,EAIjB,CAACA,sBAAD,CAJiB,CAAnB;AAMAzB,EAAAA,KAAK,CAACkC,SAAN,CAAgB,MAAM;AACpBjC,IAAAA,QAAQ,CAACkC,MAAT,CAAgBd,SAAhB,EAA2B;AACzBe,MAAAA,OAAO,EAAExB,mBAAmB,GAAGF,sBADN;AAEzB2B,MAAAA,eAAe,EAAE;AAFQ,KAA3B,EAGGC,KAHH;AAID,GALD,EAKG,CAAC1B,mBAAD,EAAsBS,SAAtB,CALH;AAOA,QAAMkB,eAAe,GAAGvC,KAAK,CAAC0B,WAAN,CACtB,mBACE,oBAAC,QAAD,CAAU,IAAV;AACE,IAAA,KAAK,EAAE,CACLc,MAAM,CAACD,eADF,EAEL;AACEE,MAAAA,eAAe,EAAE1B;AADnB,KAFK,EAKL;AACE2B,MAAAA,SAAS,EAAE,CAAC;AAAEC,QAAAA,UAAU,EAAEtB;AAAd,OAAD;AADb,KALK;AADT,IAFoB,EActB,CAACN,4BAAD,EAA+BM,SAA/B,CAdsB,CAAxB;;AAiBA,QAAMuB,wBAAwB,GAAG,MAAM;AACrC,UAAMC,KAAkB,GAAG,CAACL,MAAM,CAACM,UAAR,EAAoB3B,uBAApB,CAA3B;;AACA,YAAQH,gBAAR;AACE,WAAK,UAAL;AACE6B,QAAAA,KAAK,CAACE,IAAN,CAAWP,MAAM,CAACQ,kBAAlB;AACA;;AACF,WAAK,KAAL;AACEH,QAAAA,KAAK,CAACE,IAAN,CAAWP,MAAM,CAACS,aAAlB;AACA;;AACF,WAAK,QAAL;AACEJ,QAAAA,KAAK,CAACE,IAAN,CAAWP,MAAM,CAACU,gBAAlB;AACA;;AACF;AACEzC,QAAAA,mBAAmB,CAACO,gBAAD,CAAnB;AACA;AAZJ;;AAeA,QACEH,sBAAsB,KAAKR,sBAAsB,CAACQ,sBAAlD,IACAG,gBAAgB,KAAK,UAFvB,EAIE6B,KAAK,CAACE,IAAN,CAAW;AACTN,MAAAA,eAAe,EAAE5B;AADR,KAAX;AAGF,WAAOgC,KAAP;AACD,GAzBD;;AA2BA,QAAMM,UAAU,GAAGnD,KAAK,CAACoD,OAAN,CAAc,MAAM;AACrC,WAAOnC,UAAU,CAACoC,GAAX,CAAgB1B,QAAD;AAAA;;AAAA,aAAe;AACnCA,QAAAA,QAAQ,EAAEA,QAAQ,CAACG,KADgB;AAEnCwB,QAAAA,IAAI,EACF,0BAAA/C,qBAAqB,CAACgD,IAAtB,CAA4B1B,GAAD,IAASA,GAAG,CAACF,QAAJ,KAAiBA,QAAQ,CAACG,KAA9D,iFAAsEwB,IAAtE,KACA;AAJiC,OAAf;AAAA,KAAf,CAAP;AAMD,GAPkB,EAOhB,CAACrC,UAAD,CAPgB,CAAnB;AASA,sBACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE,CAACD,gBAAgB,KAAK,UAArB,IAAmCwB,MAAM,CAACgB,QAA3C;AAAb,kBACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEZ,wBAAwB;AAArC,kBACE,oBAAC,QAAD;AACE,IAAA,IAAI,EAAEO,UADR;AAEE,IAAA,YAAY,EAAGnB,IAAD,IAAUA,IAAI,CAACL,QAF/B;AAGE,IAAA,UAAU,EAAEI,UAHd;AAIE,IAAA,sBAAsB,EAAE,mBAAM,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAES,MAAM,CAACiB;AAApB,MAJhC;AAKE,IAAA,8BAA8B,EAAE,KALlC;AAME,IAAA,UAAU,EAAE,IANd;AAOE,IAAA,qBAAqB,EAAE3C,sBAPzB;AAQE,IAAA,mBAAmB,EAAEyB,eARvB;AASE,IAAA,wBAAwB,EAAEC,MAAM,CAACkB,wBATnC;AAUE,IAAA,SAAS,EAAE9C;AAVb,IADF,CADF,CADF;AAkBD,CAvGM;AAyGP,MAAM4B,MAAM,GAAGrC,UAAU,CAACwD,MAAX,CAAkB;AAC/BH,EAAAA,QAAQ,EAAE;AACRI,IAAAA,QAAQ,EAAE,UADF;AAERC,IAAAA,MAAM,EAAE,EAFA;AAGRC,IAAAA,IAAI,EAAE,EAHE;AAIRC,IAAAA,KAAK,EAAE,EAJC;AAKRC,IAAAA,UAAU,EAAE;AALJ,GADqB;AAQ/BlB,EAAAA,UAAU,EAAE;AACVmB,IAAAA,OAAO,EAAE,CADC;AAEVD,IAAAA,UAAU,EAAE,QAFF;AAGVE,IAAAA,WAAW,EAAE;AAHH,GARmB;AAa/BlB,EAAAA,kBAAkB,EAAE;AAClBmB,IAAAA,YAAY,EAAE;AADI,GAbW;AAgB/BjB,EAAAA,gBAAgB,EAAE;AAChBkB,IAAAA,eAAe,EAAE,CADD;AAEhBC,IAAAA,sBAAsB,EAAE,CAFR;AAGhBC,IAAAA,uBAAuB,EAAE,CAHT;AAIhBC,IAAAA,cAAc,EAAE;AAJA,GAhBa;AAsB/BtB,EAAAA,aAAa,EAAE;AACbuB,IAAAA,UAAU,EAAE,EADC;AAEbC,IAAAA,aAAa,EAAE,CAFF;AAGbC,IAAAA,mBAAmB,EAAE,CAHR;AAIbC,IAAAA,oBAAoB,EAAE,CAJT;AAKbC,IAAAA,iBAAiB,EAAE;AALN,GAtBgB;AA6B/BnB,EAAAA,SAAS,EAAE;AACToB,IAAAA,KAAK,EAAE,CADE;AAETC,IAAAA,MAAM,EAAE,EAFC;AAGTrC,IAAAA,eAAe,EAAE,WAHR;AAITsC,IAAAA,gBAAgB,EAAE;AAJT,GA7BoB;AAmC/BxC,EAAAA,eAAe,EAAE;AACfqB,IAAAA,QAAQ,EAAE,UADK;AAEfiB,IAAAA,KAAK,EAAE,EAFQ;AAGfC,IAAAA,MAAM,EAAE,EAHO;AAIfX,IAAAA,YAAY,EAAE;AAJC,GAnCc;AAyC/BT,EAAAA,wBAAwB,EAAE;AACxBE,IAAAA,QAAQ,EAAE,UADc;AAExBiB,IAAAA,KAAK,EAAE,EAFiB;AAGxBC,IAAAA,MAAM,EAAE;AAHgB;AAzCK,CAAlB,CAAf","sourcesContent":["import * as React from 'react'\nimport { Animated, FlatList, StyleSheet, View, ViewStyle } from 'react-native'\nimport { defaultKeyboardContext } from '../contexts/KeyboardProvider'\nimport { KeyboardContext } from '../contexts/KeyboardContext'\nimport { CATEGORIES_NAVIGATION, CategoryNavigationItem, CategoryTypes } from '../types'\nimport { CategoryItem } from './CategoryItem'\nimport { exhaustiveTypeCheck } from '../utils'\n\nconst CATEGORY_ELEMENT_WIDTH = 37\n\nexport const Categories = () => {\n  const {\n    activeCategoryIndex,\n    categoryContainerColor,\n    onCategoryChangeFailed,\n    activeCategoryContainerColor,\n    categoryPosition,\n    renderList,\n    setActiveCategoryIndex,\n    categoryContainerStyles,\n  } = React.useContext(KeyboardContext)\n  const scrollNav = React.useRef(new Animated.Value(0)).current\n  const handleScrollToCategory = React.useCallback(\n    (category: CategoryTypes) => {\n      setActiveCategoryIndex(renderList.findIndex((cat) => cat.title === category))\n    },\n    [renderList, setActiveCategoryIndex]\n  )\n\n  const renderItem = React.useCallback(\n    ({ item, index }: { item: CategoryNavigationItem; index: number }) => (\n      <CategoryItem item={item} index={index} handleScrollToCategory={handleScrollToCategory} />\n    ),\n    [handleScrollToCategory]\n  )\n  React.useEffect(() => {\n    Animated.spring(scrollNav, {\n      toValue: activeCategoryIndex * CATEGORY_ELEMENT_WIDTH,\n      useNativeDriver: true,\n    }).start()\n  }, [activeCategoryIndex, scrollNav])\n\n  const activeIndicator = React.useCallback(\n    () => (\n      <Animated.View\n        style={[\n          styles.activeIndicator,\n          {\n            backgroundColor: activeCategoryContainerColor,\n          },\n          {\n            transform: [{ translateX: scrollNav }],\n          },\n        ]}\n      />\n    ),\n    [activeCategoryContainerColor, scrollNav]\n  )\n\n  const getStylesBasedOnPosition = () => {\n    const style: ViewStyle[] = [styles.navigation, categoryContainerStyles]\n    switch (categoryPosition) {\n      case 'floating':\n        style.push(styles.navigationFloating)\n        break\n      case 'top':\n        style.push(styles.navigationTop)\n        break\n      case 'bottom':\n        style.push(styles.navigationBottom)\n        break\n      default:\n        exhaustiveTypeCheck(categoryPosition)\n        break\n    }\n\n    if (\n      categoryContainerColor !== defaultKeyboardContext.categoryContainerColor ||\n      categoryPosition === 'floating'\n    )\n      style.push({\n        backgroundColor: categoryContainerColor,\n      })\n    return style\n  }\n\n  const renderData = React.useMemo(() => {\n    return renderList.map((category) => ({\n      category: category.title,\n      icon:\n        CATEGORIES_NAVIGATION.find((cat) => cat.category === category.title)?.icon ||\n        'QuestionMark',\n    })) as CategoryNavigationItem[]\n  }, [renderList])\n\n  return (\n    <View style={[categoryPosition === 'floating' && styles.floating]}>\n      <View style={getStylesBasedOnPosition()}>\n        <FlatList\n          data={renderData}\n          keyExtractor={(item) => item.category}\n          renderItem={renderItem}\n          ItemSeparatorComponent={() => <View style={styles.separator} />}\n          showsHorizontalScrollIndicator={false}\n          horizontal={true}\n          onScrollToIndexFailed={onCategoryChangeFailed}\n          ListHeaderComponent={activeIndicator}\n          ListHeaderComponentStyle={styles.activeIndicatorContainer}\n          extraData={activeCategoryIndex}\n        />\n      </View>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  floating: {\n    position: 'absolute',\n    bottom: 20,\n    left: 20,\n    right: 20,\n    alignItems: 'center',\n  },\n  navigation: {\n    padding: 3,\n    alignItems: 'center',\n    borderColor: '#00000011',\n  },\n  navigationFloating: {\n    borderRadius: 8,\n  },\n  navigationBottom: {\n    paddingVertical: 6,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n    borderTopWidth: 1,\n  },\n  navigationTop: {\n    paddingTop: 12,\n    paddingBottom: 6,\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomWidth: 1,\n  },\n  separator: {\n    width: 1,\n    height: 28,\n    backgroundColor: '#00000011',\n    marginHorizontal: 4,\n  },\n  activeIndicator: {\n    position: 'absolute',\n    width: 28,\n    height: 28,\n    borderRadius: 6,\n  },\n  activeIndicatorContainer: {\n    position: 'absolute',\n    width: 28,\n    height: 28,\n  },\n})\n"]}